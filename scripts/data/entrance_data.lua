function ent_valid(entry)
        if not entry.rule then
                entry.rule = function(state) return true end
        end
        return entry
end

loonyland_entrance_table = {
        ent_valid{source = "Menu", dest = "Halloween Hill"},
        ent_valid{source = "Menu", dest = "Bowling"},
        ent_valid{source = "Menu", dest = "Survival"},
        ent_valid{source = "Menu", dest = "Boss Bash"},
        ent_valid{source = "Menu", dest = "Loony Ball"},
        ent_valid{source = "Menu", dest = "Remix"},
        ent_valid{source = "Halloween Hill", dest = "A Cabin Trees"},
        ent_valid{source = "Halloween Hill", dest = "The Witch's Cabin Front"},
        ent_valid{source = "Halloween Hill", dest = "Bonita's Cabin"},
        ent_valid{source = "Halloween Hill", dest = "Underground Tunnel Top"},
        ent_valid{source = "Halloween Hill", dest = "The Bog Pit"},
        ent_valid{source = "Slurpy Swamp Mud", dest = "Slurpy Swamp Mud East Warp"},
        ent_valid{source = "Slurpy Swamp Mud East Warp", dest = "Swamp Gas Cavern Front"},
        ent_valid{source = "Slurpy Swamp Mud", dest = "Slurpy Swamp Mud North Warp"},
        ent_valid{source = "Slurpy Swamp Mud North Warp", dest = "Swamp Gas Cavern Back"},
        ent_valid{source = "Halloween Hill", dest = "A Tiny Cabin", rule = function(state) return state:has("Skull Key") end},
        ent_valid{source = "Halloween Hill", dest = "The Witch's Cabin Back"},
        ent_valid{source = "Zombiton", dest = "A Cabin Seer"},
        ent_valid{source = "Zombiton", dest = "Benny's Cocktails"},
        ent_valid{source = "Halloween Hill", dest = "Dusty Crypt Entrance"},
        ent_valid{source = "Zombiton", dest = "Musty Crypt Entrance"},
        ent_valid{source = "Zombiton", dest = "A Messy Cabin"},
        ent_valid{source = "Halloween Hill", dest = "Rusty Crypt Entrance"},
        ent_valid{source = "Halloween Hill", dest = "Under The Lake Entrance", rule = function(state) return state:has("Orb", 4) end},
        ent_valid{source = "Halloween Hill", dest = "Haunted Tower", rule = function(state) return state:has("Ghost Potion") end},
        ent_valid{source = "Rocky Cliffs", dest = "Abandoned Mines Entrance"},
        ent_valid{source = "Rocky Cliffs", dest = "The Shrine Of Bombulus"},
        ent_valid{source = "Rocky Cliffs", dest = "A Gloomy Cavern Entrance", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Halloween Hill", dest = "Happy Stick Woods", rule = function(state) return state:has("Happy Stick") end},
        ent_valid{source = "Zombiton", dest = "A Cabin Larry"},
        ent_valid{source = "Halloween Hill", dest = "The Wolf Den Entrance"},
        ent_valid{source = "Rocky Cliffs", dest = "Upper Creepy Caverns Left Warp", rule = function(state) return state:has("Bombs") end},
        ent_valid{source = "Rocky Cliffs", dest = "Creepy Caverns Left", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Vampy Land", dest = "Castle Vampy"},
        ent_valid{source = "Halloween Hill", dest = "Cabin In The Woods"},
        ent_valid{source = "Halloween Hill", dest = "A Cabin Collector"},
        ent_valid{source = "Halloween Hill", dest = "A Hidey-Hole"},
        ent_valid{source = "Vampy Land", dest = "Creepy Caverns Right", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Halloween Hill", dest = "Swampdog Lair"},
        ent_valid{source = "A Cabin Trees", dest = "Halloween Hill"},
        ent_valid{source = "The Witch's Cabin Front", dest = "Halloween Hill"},
        ent_valid{source = "The Witch's Cabin Back", dest = "Halloween Hill"},
        ent_valid{source = "Bonita's Cabin", dest = "Halloween Hill"},
        ent_valid{source = "The Bog Pit", dest = "Halloween Hill"},
        ent_valid{source = "Underground Tunnel Top", dest = "Halloween Hill"},
        ent_valid{source = "Underground Tunnel Zombie", dest = "Benny's Cocktails"},
        ent_valid{source = "Swamp Gas Cavern Front", dest = "Slurpy Swamp Mud North Warp"},
        ent_valid{source = "Swamp Gas Cavern Back", dest = "Slurpy Swamp Mud East Warp"},
        ent_valid{source = "A Tiny Cabin", dest = "Halloween Hill"},
        ent_valid{source = "A Cabin Seer", dest = "Zombiton"},
        ent_valid{source = "Benny's Cocktails", dest = "Zombiton"},
        ent_valid{source = "Benny's Cocktails", dest = "Underground Tunnel Zombie"},
        ent_valid{source = "Dusty Crypt Entrance", dest = "Dusty Crypt", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Dusty Crypt Entrance", dest = "Halloween Hill"},
        ent_valid{source = "Dusty Crypt", dest = "Dusty Crypt Entrance"},
        ent_valid{source = "Musty Crypt Entrance", dest = "Musty Crypt", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Musty Crypt Entrance", dest = "Zombiton"},
        ent_valid{source = "Musty Crypt", dest = "Musty Crypt Entrance"},
        ent_valid{source = "Rusty Crypt Entrance", dest = "Rusty Crypt", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Rusty Crypt Entrance", dest = "Halloween Hill"},
        ent_valid{source = "Rusty Crypt", dest = "Rusty Crypt Entrance"},
        ent_valid{source = "A Messy Cabin", dest = "Zombiton"},
        ent_valid{source = "Under The Lake Entrance", dest = "Under The Lake", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Under The Lake Entrance", dest = "Halloween Hill"},
        ent_valid{source = "Under The Lake", dest = "Under The Lake Entrance"},
        ent_valid{source = "Under The Lake", dest = "Under The Lake Exit"},
        ent_valid{source = "Under The Lake Exit", dest = "Deeper Under The Lake"},
        ent_valid{source = "Under The Lake Exit", dest = "Under The Lake"},
        ent_valid{source = "Deeper Under The Lake", dest = "Under The Lake Exit"},
        ent_valid{source = "Deeper Under The Lake", dest = "Frankenjulie's Laboratory"},
        ent_valid{source = "Frankenjulie's Laboratory", dest = "Deeper Under The Lake"},
        ent_valid{source = "Frankenjulie's Laboratory", dest = "Halloween Hill"},
        ent_valid{source = "Haunted Basement", dest = "Haunted Basement", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Haunted Tower", dest = "Haunted Tower Floor 2", rule = function(state) return state:has("Ghost Potion") end},
        ent_valid{source = "Haunted Tower", dest = "Haunted Basement Entrance", rule = function(state) return state:has("Bat Key") and state:has("Pumpkin Key") and state:has("Skull Key") end},
        ent_valid{source = "Haunted Tower Floor 2", dest = "Haunted Tower"},
        ent_valid{source = "Haunted Tower Floor 2", dest = "Haunted Tower Floor 3", rule = function(state) return state:has("Ghost Potion") end},
        ent_valid{source = "Haunted Tower Floor 3", dest = "Haunted Tower Floor 2", rule = function(state) return state:has("Ghost Potion") end},
        ent_valid{source = "Haunted Tower Floor 3", dest = "Haunted Tower Roof", rule = function(state) return state:has("Ghost Potion") end},
        ent_valid{source = "Haunted Tower Roof", dest = "Halloween Hill"},
        ent_valid{source = "Haunted Tower Roof", dest = "Haunted Tower Floor 3"},
        ent_valid{source = "Haunted Basement Entrance", dest = "Haunted Tower", rule = function(state) return state:has("Bat Key") and state:has("Pumpkin Key") and state:has("Skull Key") end},
        ent_valid{source = "Haunted Basement Entrance", dest = "Haunted Basement"},
        ent_valid{source = "Haunted Basement", dest = "Haunted Basement Entrance"},
        ent_valid{source = "Abandoned Mines Entrance", dest = "Abandoned Mines", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Abandoned Mines Entrance", dest = "Rocky Cliffs"},
        ent_valid{source = "Abandoned Mines", dest = "Abandoned Mines Entrance"},
        ent_valid{source = "The Shrine Of Bombulus", dest = "Rocky Cliffs"},
        ent_valid{source = "A Gloomy Cavern Entrance", dest = "A Gloomy Cavern", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "A Gloomy Cavern Entrance", dest = "Rocky Cliffs"},
        ent_valid{source = "A Gloomy Cavern", dest = "A Gloomy Cavern Entrance"},
        ent_valid{source = "Happy Stick Woods", dest = "Halloween Hill"},
        ent_valid{source = "The Wolf Den Entrance", dest = "The Wolf Den", rule = function(state) return state:has("Silver Sling") and have_light_source(state) end},
        ent_valid{source = "The Wolf Den Entrance", dest = "Halloween Hill"},
        ent_valid{source = "The Wolf Den", dest = "The Wolf Den Entrance"},
        ent_valid{source = "The Wolf Den", dest = "Larry's Lair", rule = function(state) return state:has("Silver Sling") end},
        ent_valid{source = "A Cabin Larry", dest = "Zombiton"},
        ent_valid{source = "Upper Creepy Caverns Left Warp", dest = "Rocky Cliffs", rule = function(state) return state:has("Bombs") end},
        ent_valid{source = "Upper Creepy Caverns Left Warp", dest = "Upper Creepy Caverns", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Upper Creepy Caverns", dest = "Upper Creepy Caverns Left Warp"},
        ent_valid{source = "Upper Creepy Caverns Middle Warp", dest = "Creepy Caverns Left", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Upper Creepy Caverns Middle Warp", dest = "Upper Creepy Caverns", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Upper Creepy Caverns", dest = "Upper Creepy Caverns Middle Warp"},
        ent_valid{source = "Upper Creepy Caverns Right Warp", dest = "Creepy Caverns Middle", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Upper Creepy Caverns Right Warp", dest = "Upper Creepy Caverns", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Upper Creepy Caverns", dest = "Upper Creepy Caverns Right Warp"},
        ent_valid{source = "Under The Ravine", dest = "Creepy Caverns Middle", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Under The Ravine", dest = "Creepy Caverns Right", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Creepy Caverns Left", dest = "Rocky Cliffs"},
        ent_valid{source = "Creepy Caverns Left", dest = "Upper Creepy Caverns Middle Warp", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Creepy Caverns Middle", dest = "Upper Creepy Caverns", rule = function(state) return have_light_source(state) end},
        ent_valid{source = "Creepy Caverns Middle", dest = "Under The Ravine"},
        ent_valid{source = "Creepy Caverns Right", dest = "Under The Ravine"},
        ent_valid{source = "Creepy Caverns Right", dest = "Vampy Land"},
        ent_valid{source = "Castle Vampy", dest = "Halloween Hill"},
        ent_valid{source = "Castle Vampy", dest = "Castle Vampy Skull Jail", rule = function(state) return state:has("Skull Key") end},
        ent_valid{source = "Castle Vampy Skull Jail", dest = "Castle Vampy II Main", rule = function(state) return state:has("Skull Key") end},
        ent_valid{source = "Castle Vampy", dest = "Castle Vampy II NE", rule = function(state) return state:has("Bat Statue", 4) end},
        ent_valid{source = "Castle Vampy", dest = "Castle Vampy II SE", rule = function(state) return state:has("Bat Statue", 4) end},
        ent_valid{source = "Castle Vampy", dest = "Castle Vampy II SW", rule = function(state) return state:has("Bat Statue", 4) end},
        ent_valid{source = "Castle Vampy", dest = "Castle Vampy II NW", rule = function(state) return state:has("Bat Statue", 4) end},
        ent_valid{source = "Castle Vampy II Main", dest = "Castle Vampy Skull Jail"},
        ent_valid{source = "Castle Vampy II Main", dest = "Castle Vampy II Bat Jail", rule = function(state) return state:has("Bat Key") end},
        ent_valid{source = "Castle Vampy II Bat Jail", dest = "Castle Vampy III Main", rule = function(state) return state:has("Bat Key") end},
        ent_valid{source = "Castle Vampy II NE", dest = "Castle Vampy"},
        ent_valid{source = "Castle Vampy II NE", dest = "Castle Vampy III NE"},
        ent_valid{source = "Castle Vampy II SE", dest = "Castle Vampy"},
        ent_valid{source = "Castle Vampy II SE", dest = "Castle Vampy III SE"},
        ent_valid{source = "Castle Vampy II SW", dest = "Castle Vampy"},
        ent_valid{source = "Castle Vampy II SW", dest = "Castle Vampy III SW"},
        ent_valid{source = "Castle Vampy II NW", dest = "Castle Vampy"},
        ent_valid{source = "Castle Vampy II NW", dest = "Castle Vampy III NW"},
        ent_valid{source = "Cabin In The Woods", dest = "Halloween Hill"},
        ent_valid{source = "Castle Vampy III Main", dest = "Castle Vampy II Bat Jail"},
        ent_valid{source = "Castle Vampy III Main", dest = "Castle Vampy III Pumpkin Jail", rule = function(state) return state:has("Pumpkin Key") end},
        ent_valid{source = "Castle Vampy III Pumpkin Jail", dest = "Castle Vampy IV Main", rule = function(state) return state:has("Pumpkin Key") end},
        ent_valid{source = "Castle Vampy III NE", dest = "Castle Vampy II NE"},
        ent_valid{source = "Castle Vampy III NE", dest = "Castle Vampy IV NE"},
        ent_valid{source = "Castle Vampy III SE", dest = "Castle Vampy II SE"},
        ent_valid{source = "Castle Vampy III SE", dest = "Castle Vampy IV SE"},
        ent_valid{source = "Castle Vampy III SW", dest = "Castle Vampy II SW"},
        ent_valid{source = "Castle Vampy III SW", dest = "Castle Vampy IV SW"},
        ent_valid{source = "Castle Vampy III NW", dest = "Castle Vampy II NW"},
        ent_valid{source = "Castle Vampy III NW", dest = "Castle Vampy IV NW"},
        ent_valid{source = "Castle Vampy IV Main", dest = "Castle Vampy III Pumpkin Jail"},
        ent_valid{source = "Castle Vampy IV Main", dest = "The Heart Of Terror", rule = function(state) return state:has("Vampire Bust", 8) end},
        ent_valid{source = "Castle Vampy IV NE", dest = "Castle Vampy III NE"},
        ent_valid{source = "Castle Vampy IV NE", dest = "Castle Vampy Roof NE"},
        ent_valid{source = "Castle Vampy IV SE", dest = "Castle Vampy III SE"},
        ent_valid{source = "Castle Vampy IV SE", dest = "Castle Vampy Roof SE"},
        ent_valid{source = "Castle Vampy IV SW", dest = "Castle Vampy III SW"},
        ent_valid{source = "Castle Vampy IV SW", dest = "Castle Vampy Roof SW"},
        ent_valid{source = "Castle Vampy IV NW", dest = "Castle Vampy III NW"},
        ent_valid{source = "Castle Vampy IV NW", dest = "Castle Vampy Roof NW"},
        ent_valid{source = "A Cabin Collector", dest = "Halloween Hill"},
        ent_valid{source = "Castle Vampy Roof NE", dest = "Castle Vampy IV NE"},
        ent_valid{source = "Castle Vampy Roof SE", dest = "Castle Vampy IV SE"},
        ent_valid{source = "Castle Vampy Roof SW", dest = "Castle Vampy IV SW"},
        ent_valid{source = "Castle Vampy Roof NW", dest = "Castle Vampy IV NW"},
        ent_valid{source = "The Evilizer", dest = "Halloween Hill"},
        ent_valid{source = "The Heart Of Terror", dest = "The Evilizer"},
        ent_valid{source = "The Heart Of Terror", dest = "Empty Rooftop"},
        ent_valid{source = "A Hidey-Hole", dest = "Halloween Hill"},
        ent_valid{source = "Empty Rooftop", dest = "Halloween Hill"},
        ent_valid{source = "Swampdog Lair", dest = "Halloween Hill"},
        ent_valid{source = "Larry's Lair", dest = "Halloween Hill"},
        ent_valid{source = "Halloween Hill", dest = "Slurpy Swamp Mud", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Slurpy Swamp Mud", dest = "Halloween Hill", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Slurpy Swamp Mud North Warp", dest = "Slurpy Swamp Mud", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Slurpy Swamp Mud East Warp", dest = "Slurpy Swamp Mud", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Zombiton", dest = "Halloween Hill"},
        ent_valid{source = "Halloween Hill", dest = "Rocky Cliffs", rule = function(state) return state:has("Big Gem") end},
        ent_valid{source = "Rocky Cliffs", dest = "Halloween Hill", rule = function(state) return state:has("Big Gem") end},
        ent_valid{source = "Vampy Land", dest = "Halloween Hill"},
        ent_valid{source = "Underground Tunnel Top", dest = "Underground Tunnel Mud", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Underground Tunnel Mud", dest = "Underground Tunnel Top", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Underground Tunnel Mud", dest = "Underground Tunnel Zombie", rule = function(state) return state:has("Boots") end},
        ent_valid{source = "Swamp Gas Cavern Front", dest = "Swamp Gas Cavern Back", rule = function(state) return state:has("Boots") end},
}